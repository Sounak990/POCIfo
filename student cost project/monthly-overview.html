<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monthly Overview - Your Budget App</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* CSS styles go here */
        body {
            font-family: 'Arial,Helvetica,sans-serif';
            margin: 0;
            padding: 0;
            background-color: #ffffff;
            background-image: url("./background.jpg");
        }

        header {
            background-color: #0078d4;
            color: #fe0;
            text-align: center;
            padding: 1rem;
        }

        nav ul {
            list-style-type: none;
            padding: 0;
        }

        nav ul li {
            display: inline;
            margin-right: 20px;
        }

        nav a {
            text-decoration: none;
            color: #00ff39;
            font-weight: bold;
        }

        main {
            padding: 90px;
        }

        footer {
            text-align: center;
            background-color:  #e34040;
            color: #fe0;
            padding: 10px;
        }
        
        /* Calendar styles */
        .calendar {
            font-family: Arial, sans-serif;
        }

        .calendar-header {
            background-color: #007bff;
            color: #fff;
            text-align: center;
            padding: 10px;
        }

        .calendar-header h2 {
            margin: 0;
        }

        .calendar-table {
            width: 100%;
            border-collapse: collapse;
        }

        .calendar-table th,
        .calendar-table td {
            border: 1px solid #ccc;
            text-align: center;
            padding: 10px;
        }

        .calendar-table th {
            background-color: #f2f2f2;
        }

        .calendar-table td {
            cursor: pointer;
        }

        .calendar-table td:hover {
            background-color: #f5f5f5;
        }

        .daily-budget-input {
            display: none;
        }

        .daily-budget-cell {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <!-- Include the header with navigation links -->
    <header>
        <h1>POCIfo</h1>
        <nav>
            <ul>
                <li><a href="categories.html">Budget Categories</a></li>
                <li><a href="monthly-overview.html">Monthly Overview</a></li>
                <li><a href="expense-history.html">Expense Tracking History</a></li>
                <li><a href="Goal Setting.html">Budget Goal Setting</a></li>
            </ul>
        </nav>
    </header>
    
    <main>
        <h2>Calendar and Budget Calculator</h2>
        <div class="calendar-and-budget">
            <div class="calendar">
                <table class="calendar-table">
                    <thead>
                        <tr>
                            <th colspan="7" class="month-year"></th>
                        </tr>
                        <tr>
                            <th>Sun</th>
                            <th>Mon</th>
                            <th>Tue</th>
                            <th>Wed</th>
                            <th>Thu</th>
                            <th>Fri</th>
                            <th>Sat</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Calendar cells (days) go here -->
                    </tbody>
                </table>
            </div>

            <div class="budget-section">
                <h3>Estimated Budgets:</h3>
                <table id="budget-table">
                    <!-- Estimated budgets for the week and daily budgets will be displayed here -->
                </table>
                <div class="daily-budget-input">
                    <input type="number" id="daily-budget-amount" placeholder="Enter Daily Budget">
                    <button id="set-daily-budget">Set</button>
                </div>
                <button id="edit-estimated-budget">Edit Estimated Budget</button>
                <button id="save-estimated-budget" style="display: none;">Save Estimated Budget</button>
            </div>
        </div>
    </main>

    <!-- Include the footer (same as before) -->

    <!-- JavaScript for calendar generation, navigation, and budget calculations -->
    <script>
        // Sample data for estimated budgets (replace with your data)
        let estimatedBudgets = {};

        // Function to display the calendar for a given week
        function displayCalendarForWeek(startDate) {
            const calendarBody = document.querySelector('.calendar-table tbody');
            calendarBody.innerHTML = ''; // Clear the calendar

            const currentDate = new Date(startDate);
            const currentYear = currentDate.getFullYear();
            const currentMonth = currentDate.getMonth();
            const currentDay = currentDate.getDate();

            const table = document.querySelector('.calendar-table');
            const monthYearCell = document.querySelector('.month-year');
            monthYearCell.textContent = `${currentMonth + 1}/${currentYear}`;

            for (let i = 0; i < 5; i++) {
                const row = table.insertRow(-1);

                for (let j = 0; j < 7; j++) {
                    const cell = row.insertCell(-1);
                    const day = currentDate.getDate();
                    const dateKey = `${currentYear}-${(currentMonth + 1).toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;
                    cell.textContent = day;
                    cell.dataset.date = dateKey;
                    currentDate.setDate(currentDate.getDate() + 1);

                    // Highlight the calendar cell for today
                    const today = new Date();
                    if (currentDate.getDate() === today.getDate() && currentDate.getMonth() === today.getMonth() && currentDate.getFullYear() === today.getFullYear()) {
                        cell.classList.add('highlighted-day');
                    }

                    // Display daily budget if available
                    if (estimatedBudgets[dateKey]) {
                        cell.classList.add('daily-budget-cell');
                        cell.title = `Daily Budget: ${estimatedBudgets[dateKey]}`;
                    }
                }
            }
        }

        // Function to display the estimated budgets
        function displayBudgets() {
            const budgetTable = document.getElementById('budget-table');
            budgetTable.innerHTML = ''; // Clear the table

            for (const dateKey in estimatedBudgets) {
                const budget = estimatedBudgets[dateKey];
                const row = document.createElement('tr');

                const dateCell = document.createElement('td');
                dateCell.textContent = dateKey;

                const budgetCell = document.createElement('td');
                budgetCell.textContent = budget;

                row.appendChild(dateCell);
                row.appendChild(budgetCell);

                budgetTable.appendChild(row);
            }
        }

        // Function to edit the estimated budget
        function editEstimatedBudget() {
            // Allow the user to edit and save the estimated budget
            const monthlyBudget = prompt("Enter the estimated monthly budget:");
            const weeklyBudget = prompt("Enter the estimated weekly budget:");
            const dailyBudget = prompt("Enter the estimated daily budget:");

            if (monthlyBudget && weeklyBudget && dailyBudget) {
                estimatedBudgets = {}; // Clear existing data

                // Display the estimated budgets
                estimatedBudgets['Monthly Budget'] = monthlyBudget;
                estimatedBudgets['Weekly Budget'] = weeklyBudget;
                estimatedBudgets['Daily Budget'] = dailyBudget;
                displayBudgets();

                // Show the 'Save Estimated Budget' button and hide the 'Edit Estimated Budget' button
                document.getElementById('save-estimated-budget').style.display = 'inline';
                document.querySelector('.daily-budget-input').style.display = 'none';
                document.getElementById('edit-estimated-budget').style.display = 'none';
            }
        }

        // Function to save the daily estimated budget
        function saveDailyBudget() {
            const dailyBudgetAmount = document.getElementById('daily-budget-amount').value;
            const currentDate = new Date();

            if (dailyBudgetAmount) {
                const dateKey = `${currentDate.getFullYear()}-${(currentDate.getMonth() + 1).toString().padStart(2, '0')}-${currentDate.getDate().toString().padStart(2, '0')}`;
                estimatedBudgets[dateKey] = dailyBudgetAmount;
                displayBudgets();

                document.querySelector('.daily-budget-input').style.display = 'none';
                document.getElementById('edit-estimated-budget').style.display = 'inline';
            }
        }

        // Function to show the input field for daily budget
        function setDailyBudget() {
            document.querySelector('.daily-budget-input').style.display = 'inline';
            document.getElementById('edit-estimated-budget').style.display = 'none';
        }

        // Attach event listener for initial calendar generation
        document.addEventListener('DOMContentLoaded', () => {
            const currentDate = new Date();
            const currentYear = currentDate.getFullYear();
            const currentMonth = currentDate.getMonth();
            const currentDay = currentDate.getDate();
            const currentWeekday = currentDate.getDay();
            const weekStartDate = new Date(currentYear, currentMonth, currentDay - currentWeekday);
            displayCalendarForWeek(weekStartDate);
        });

        // Attach event listeners for saving and editing estimated budgets
        document.getElementById('save-estimated-budget').addEventListener('click', editEstimatedBudget);
        document.getElementById('edit-estimated-budget').addEventListener('click', editEstimatedBudget);
        document.getElementById('set-daily-budget').addEventListener('click', saveDailyBudget);
    </script>
</body>
<footer>
    <p>Design by Sounak 2023</p>
</footer>
</html>
